import{r as o,b as p,a as e,f as w,w as y,E as k,o as f,h,l,s as u,v as C,i as T}from"./app-BpM4j1nk.js";const E={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},N={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},M={class:"inline-block align-middle bg-white rounded-lg text-left lg:text-center overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},S={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},V={class:"sm:flex sm:items-start"},_={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},j={class:"mt-2"},D={class:"mb-4"},O={class:"mb-4"},U={class:"mb-4"},A={class:"mb-4"},P={__name:"ExpensesModal",emits:["expense-added"],setup(B,{emit:b}){const a=o(!1),i=o(""),d=o(""),r=o(""),m=o(""),x=b,v=()=>{a.value=!0},c=()=>{a.value=!1},g=async()=>{try{const n=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t=await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n},body:JSON.stringify({name:i.value,cost:d.value,date_of_purchase:r.value,type:m.value})});if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();console.log("Expense submitted successfully:",s),c(),x("expense-added"),window.location.reload()}catch(n){console.error("Error submitting expense:",n)}};return(n,t)=>(f(),p("div",null,[e("button",{onClick:v,class:"bg-[#281c11] text-white p-2.5 rounded-lg focus:ring-4 focus:ring-[#c58a61]"},"Add Expense"),w(k,{name:"modal"},{default:y(()=>[a.value?(f(),p("div",E,[e("div",N,[t[11]||(t[11]=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-[#543434] opacity-75"})],-1)),t[12]||(t[12]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",M,[e("div",S,[e("div",V,[e("div",_,[t[10]||(t[10]=e("h3",{class:"text-lg leading-6 font-medium text-[#543434]",id:"modal-title"},"Add Expense",-1)),e("div",j,[e("form",{onSubmit:h(g,["prevent"])},[e("div",D,[t[4]||(t[4]=e("label",{for:"expenseName",class:"block text-sm font-medium text-[#543434]"},"Name",-1)),l(e("input",{type:"text",id:"expenseName","onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),class:"mt-1 block w-full p-2.5 bg-[#c58a61] border border-[#c59461] text-[#543434] rounded-lg focus:ring-[#c58a61] focus:border-[#c58a61]"},null,512),[[u,i.value]])]),e("div",O,[t[5]||(t[5]=e("label",{for:"expenseCost",class:"block text-sm font-medium text-[#543434]"},"Cost",-1)),l(e("input",{type:"number",id:"expenseCost","onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),class:"mt-1 block w-full p-2.5 bg-[#c58a61] border border-[#c59461] text-[#543434] rounded-lg focus:ring-[#c58a61] focus:border-[#c58a61]"},null,512),[[u,d.value]])]),e("div",U,[t[6]||(t[6]=e("label",{for:"expenseDate",class:"block text-sm font-medium text-[#543434]"},"Date of Purchase",-1)),l(e("input",{type:"date",id:"expenseDate","onUpdate:modelValue":t[2]||(t[2]=s=>r.value=s),class:"mt-1 block w-full p-2.5 bg-[#c58a61] border border-[#c59461] text-[#543434] rounded-lg focus:ring-[#c58a61] focus:border-[#c58a61]"},null,512),[[u,r.value]])]),e("div",A,[t[8]||(t[8]=e("label",{for:"expenseType",class:"block text-sm font-medium text-[#543434]"},"Type",-1)),l(e("select",{id:"expenseType","onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),class:"mt-1 block w-full p-2.5 bg-[#c58a61] border border-[#c59461] text-[#543434] rounded-lg focus:ring-[#c58a61] focus:border-[#c58a61]"},t[7]||(t[7]=[e("option",{value:"medication"},"Medication",-1),e("option",{value:"food"},"Food",-1),e("option",{value:"transportation"},"Transportation",-1)]),512),[[C,m.value]])]),t[9]||(t[9]=e("div",{class:"mt-5 sm:mt-6"},[e("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-[#281c11] text-base font-medium text-white hover:bg-[#a7674d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#c58a61] sm:text-sm"},"Submit")],-1))],32)])])])]),e("div",{class:"bg-[#c58a61] px-4 py-3 sm:px-6 sm:flex flex-row-reverse"},[e("button",{onClick:c,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-[#c59461] shadow-sm px-4 py-2 bg-white text-base font-medium text-[#543434] hover:bg-[#c59461] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#c58a61] sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Cancel")])])])])):T("",!0)]),_:1})]))}};export{P as default};
