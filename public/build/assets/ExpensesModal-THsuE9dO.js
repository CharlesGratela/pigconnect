import{r as l,e as c,b as e,d as f,i as C,w as M,H as V,o as v,l as j,m,v as x,s as E,n as T,g as b,t as N}from"./app-DNIPENlQ.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},q={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},z={class:"relative inline-block bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-gray-100"},A={class:"bg-white px-6 py-6"},D={class:"relative"},H={class:"relative"},F={class:"relative"},O={class:"relative"},P={class:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},U=["disabled"],I={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},J={__name:"ExpensesModal",emits:["expense-added"],setup(K,{emit:y}){const p=l(!1),s=l(!1),r=l(""),a=l(""),n=l(""),i=l(""),w=y,k=()=>{p.value=!0,n.value||(n.value=new Date().toISOString().split("T")[0])},d=()=>{p.value=!1,h()},h=()=>{r.value="",a.value="",n.value="",i.value=""},g=async()=>{if(!s.value){if(!r.value||!a.value||!n.value||!i.value){alert("Please fill in all fields");return}s.value=!0;try{const u=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t=await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":u},body:JSON.stringify({name:r.value,cost:parseFloat(a.value),date_of_purchase:n.value,type:i.value})});if(!t.ok)throw new Error("Network response was not ok");const o=await t.json();console.log("Expense submitted successfully:",o),d(),w("expense-added"),window.location.reload()}catch(u){console.error("Error submitting expense:",u),alert("Failed to add expense. Please try again.")}finally{s.value=!1}}};return(u,t)=>(v(),c("div",null,[e("button",{onClick:k,class:"flex items-center gap-2 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-6 py-3 rounded-xl hover:from-emerald-700 hover:to-emerald-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium"},t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Add Expense ")])),C(V,{name:"modal","enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:M(()=>[p.value?(v(),c("div",S,[e("div",q,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 backdrop-blur-sm transition-opacity","aria-hidden":"true",onClick:d}),t[18]||(t[18]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",z,[e("div",{class:"bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-4"},[e("div",{class:"flex justify-between items-center"},[t[6]||(t[6]=e("h3",{class:"text-xl font-bold text-white flex items-center"},[e("svg",{class:"w-6 h-6 mr-2 text-emerald-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})]),f(" Add New Expense ")],-1)),e("button",{onClick:d,class:"text-emerald-200 hover:text-white transition-colors duration-200"},t[5]||(t[5]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",A,[e("form",{onSubmit:j(g,["prevent"]),class:"space-y-6"},[e("div",null,[t[8]||(t[8]=e("label",{for:"expenseName",class:"block text-sm font-medium text-gray-700 mb-2"}," Expense Name ",-1)),e("div",D,[t[7]||(t[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),m(e("input",{type:"text",id:"expenseName","onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-lg leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors sm:text-sm",placeholder:"Enter expense name"},null,512),[[x,r.value]])])]),e("div",null,[t[10]||(t[10]=e("label",{for:"expenseCost",class:"block text-sm font-medium text-gray-700 mb-2"}," Cost (₱) ",-1)),e("div",H,[t[9]||(t[9]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-400 text-sm font-medium"},"₱")],-1)),m(e("input",{type:"number",step:"0.01",id:"expenseCost","onUpdate:modelValue":t[1]||(t[1]=o=>a.value=o),required:"",class:"block w-full pl-8 pr-3 py-3 border border-gray-200 rounded-lg leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors sm:text-sm",placeholder:"0.00"},null,512),[[x,a.value]])])]),e("div",null,[t[12]||(t[12]=e("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-2"}," Date of Purchase ",-1)),e("div",F,[t[11]||(t[11]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),m(e("input",{type:"date",id:"expenseDate","onUpdate:modelValue":t[2]||(t[2]=o=>n.value=o),required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-lg leading-5 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors sm:text-sm"},null,512),[[x,n.value]])])]),e("div",null,[t[16]||(t[16]=e("label",{for:"expenseType",class:"block text-sm font-medium text-gray-700 mb-2"}," Expense Type ",-1)),e("div",O,[t[14]||(t[14]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),m(e("select",{id:"expenseType","onUpdate:modelValue":t[3]||(t[3]=o=>i.value=o),required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-lg leading-5 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors sm:text-sm appearance-none"},t[13]||(t[13]=[e("option",{value:"",disabled:""},"Select expense type",-1),e("option",{value:"medication"},"Medication",-1),e("option",{value:"food"},"Food",-1),e("option",{value:"transportation"},"Transportation",-1),e("option",{value:"equipment"},"Equipment",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"other"},"Other",-1)]),512),[[E,i.value]]),t[15]||(t[15]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])])],32)]),e("div",P,[e("button",{onClick:d,type:"button",class:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors duration-200"}," Cancel "),e("button",{onClick:g,type:"submit",disabled:s.value,class:T([{"opacity-50 cursor-not-allowed":s.value},"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-200"])},[s.value?(v(),c("svg",I,t[17]||(t[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),f(" "+N(s.value?"Adding...":"Add Expense"),1)],10,U)])])])])):b("",!0)]),_:1})]))}},X=B(J,[["__scopeId","data-v-d69fb7f6"]]);export{X as default};
