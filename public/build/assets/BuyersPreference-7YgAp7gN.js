import{r as n,h as x,c as d,a as y,w as g,b as t,g as k,x as f,o as b,f as w,l as u,s as m,v as h}from"./app-DIld19k6.js";import{_}from"./AuthenticatedLayout-BYUgyG7J.js";const B={class:"flex justify-center"},P={class:"w-[75%]"},S={class:"mb-4"},C={class:"mb-4"},V={class:"mb-4"},E={key:0,class:"fixed inset-0 flex items-center justify-center z-50 bg-gray-800 bg-opacity-75"},A={__name:"BuyersPreference",setup(N){const r=n(""),l=n(""),a=n(""),i=n(!1),c=async()=>{try{const e=(await f.get("/api/buyers_preference",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;console.log(e),e&&(r.value=e.preferred_weight,l.value=e.age_of_pigs,a.value=e.price_range)}catch(s){console.error("Error fetching buyer preferences:",s)}},p=async()=>{try{const s=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),e=await f.post("/api/buyers_preference",{preferred_weight:r.value,age_of_pigs:l.value,price_range:a.value},{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":s,Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.status!==200)throw new Error("Network response was not ok");const o=e.data;console.log("Form submitted successfully:",o),i.value=!0,await c()}catch(s){console.error("Error submitting form:",s)}},v=()=>{i.value=!1};return x(()=>{c()}),(s,e)=>(b(),d("div",null,[y(_,null,{header:g(()=>e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-black leading-tight"},"Buyer Preferences",-1)])),default:g(()=>[t("main",null,[t("div",B,[t("div",P,[t("form",{onSubmit:w(p,["prevent"]),class:"place-content-center"},[t("div",S,[e[4]||(e[4]=t("label",{for:"preferredWeight",class:"block text-sm font-medium text-black"},"Preferred Weight",-1)),u(t("input",{type:"text",id:"preferredWeight","onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-black rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,r.value]])]),t("div",C,[e[6]||(e[6]=t("label",{for:"ageOfPigs",class:"block text-sm font-medium text-black"},"Age of Pigs",-1)),u(t("select",{id:"ageOfPigs","onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-black rounded-lg focus:ring-blue-500 focus:border-blue-500"},e[5]||(e[5]=[t("option",{value:"0-3 months"},"0 to 3 months (Piglets)",-1),t("option",{value:"3-6 months"},"3 to 6 months (Growers)",-1),t("option",{value:"6-8 months"},"6 to 8 months (Finishers)",-1),t("option",{value:"6 months and above"},"6 months and above (Breeding Stock)",-1)]),512),[[h,l.value]])]),t("div",V,[e[7]||(e[7]=t("label",{for:"priceRange",class:"block text-sm font-medium text-black"},"Price Range",-1)),u(t("input",{type:"text",id:"priceRange","onUpdate:modelValue":e[2]||(e[2]=o=>a.value=o),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-black rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,a.value]])]),e[8]||(e[8]=t("button",{type:"submit",class:"w-full bg-blue-500 text-white p-2.5 rounded-lg focus:ring-4 focus:ring-blue-300"},"Submit",-1))],32)])])])]),_:1}),i.value?(b(),d("div",E,[t("div",{class:"bg-white p-4 rounded-lg shadow-lg w-[80%] md:w-[40%]"},[e[9]||(e[9]=t("h3",{class:"text-xl font-bold text-black mb-2 text-center"},"Success",-1)),e[10]||(e[10]=t("p",{class:"text-black text-center"},"Buyer's preference has been saved successfully.",-1)),t("div",{class:"flex justify-center mt-4"},[t("button",{onClick:v,class:"bg-blue-500 text-white p-2 rounded-lg focus:ring-4 focus:ring-blue-300"},"Close")])])])):k("",!0)]))}};export{A as default};
