import{r as x,y as F,c as S,h as T,e as n,i as j,w as b,o as i,b as e,F as m,f as g,t as d,g as p,d as C,l as M,n as v,m as B,v as N}from"./app-DNIPENlQ.js";import{_ as z}from"./AuthenticatedLayout-BOqvg2qA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"py-8"},V={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},$={class:"bg-white rounded-2xl shadow-lg p-6 mb-8 border border-gray-100"},A={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},q={class:"flex items-center space-x-3"},H={class:"bg-emerald-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold"},L={class:"text-sm font-medium text-emerald-800"},O={class:"text-lg font-bold text-emerald-900"},D={class:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100"},I={class:"p-6"},P={class:"mb-6"},U={class:"flex flex-wrap gap-3"},J=["onClick"],K={key:0,class:"space-y-4"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X=["for"],Y={class:"flex items-center space-x-2"},G={class:"bg-emerald-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold"},Q={class:"relative"},W=["id","onUpdate:modelValue"],Z={class:"pt-6 border-t border-gray-200"},ee=["disabled"],te={key:0,class:"fixed top-4 right-4 z-50 transform transition-all duration-300"},ie={__name:"FeedingSchedule",setup(se){const a=x(0),r=F([]),c=x(!1),w=S(()=>r.length>0&&r.some(s=>s&&s.trim()!=="")),y=s=>{if(!s)return"";const[t,l]=s.split(":"),o=parseInt(t),u=o>=12?"PM":"AM";return`${o%12||12}:${l} ${u}`},k=s=>{a.value=s,f()},h=async()=>{try{const s=await fetch("/api/feedingschedule",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!s.ok)throw new Error("Network response was not ok");const t=await s.json();console.log(t),t&&(a.value=t.frequency_of_feeding,f(t.feeding_times))}catch(s){console.error("Error fetching feeding schedule:",s)}},f=(s=[])=>{r.length=0;for(let t=0;t<a.value;t++)r.push(s[t]||"")},_=async()=>{try{const s=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t=await fetch("/api/feedingschedule",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":s,Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({feeding_times:r})});if(!t.ok){const o=await t.text();throw console.error("Error response:",o),new Error("Network response was not ok")}const l=await t.json();console.log("Form submitted successfully:",l),c.value=!0,setTimeout(()=>{c.value=!1},3e3),h()}catch(s){console.error("Error submitting form:",s)}};return T(()=>{h()}),(s,t)=>(i(),n("div",null,[j(z,null,{header:b(()=>t[0]||(t[0]=[e("div",{class:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white p-6 rounded-2xl shadow-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"bg-white/20 p-3 rounded-xl backdrop-blur-sm"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("div",null,[e("h2",{class:"text-3xl font-bold"},"Feeding Schedule"),e("p",{class:"text-emerald-100 mt-1"},"Manage your daily feeding times efficiently")])])],-1)])),default:b(()=>[e("main",E,[e("div",V,[e("div",$,[t[1]||(t[1]=e("div",{class:"flex items-center justify-between mb-6"},[e("div",null,[e("h3",{class:"text-2xl font-bold text-gray-800"},"Schedule Overview"),e("p",{class:"text-gray-600 mt-1"},"Set up your daily feeding times for optimal pig health")]),e("div",{class:"bg-emerald-100 p-3 rounded-xl"},[e("svg",{class:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),r.length>0?(i(),n("div",A,[(i(!0),n(m,null,g(r,(l,o)=>(i(),n("div",{key:o,class:"bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-xl p-4"},[e("div",q,[e("div",H,d(o+1),1),e("div",null,[e("p",L,"Feeding Time "+d(o+1),1),e("p",O,d(y(l)||"Not set"),1)])])]))),128))])):p("",!0)]),e("div",D,[t[6]||(t[6]=e("div",{class:"bg-gradient-to-r from-emerald-50 to-emerald-100 p-6 border-b border-gray-200"},[e("h3",{class:"text-xl font-bold text-emerald-800 flex items-center gap-3"},[e("div",{class:"bg-emerald-600 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])]),C(" Configure Feeding Times ")]),e("p",{class:"text-emerald-600 mt-1"},"Set precise times for your daily feeding schedule")],-1)),e("div",I,[e("form",{onSubmit:M(_,["prevent"]),class:"space-y-6"},[e("div",P,[t[2]||(t[2]=e("label",{class:"block text-sm font-bold text-gray-700 mb-3"},"Number of Daily Feedings",-1)),e("div",U,[(i(),n(m,null,g([2,3,4,5,6],l=>e("button",{key:l,type:"button",onClick:o=>k(l),class:v([a.value===l?"bg-emerald-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-emerald-50 hover:text-emerald-600","px-6 py-3 rounded-xl font-medium transition-all duration-200 border border-gray-200 hover:border-emerald-300"])},d(l)+" times ",11,J)),64))])]),r.length>0?(i(),n("div",K,[t[4]||(t[4]=e("h4",{class:"text-lg font-bold text-gray-800 mb-4"},"Set Feeding Times",-1)),e("div",R,[(i(!0),n(m,null,g(r,(l,o)=>(i(),n("div",{key:o,class:"relative"},[e("label",{for:"feedingTime"+o,class:"block text-sm font-medium text-gray-700 mb-2"},[e("span",Y,[e("span",G,d(o+1),1),e("span",null,"Feeding Time "+d(o+1),1)])],8,X),e("div",Q,[B(e("input",{type:"time",id:"feedingTime"+o,"onUpdate:modelValue":u=>r[o]=u,class:v(["w-full px-4 py-3 bg-white border-2 border-gray-200 text-gray-800 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 text-lg font-medium",r[o]?"border-emerald-300 bg-emerald-50":""])},null,10,W),[[N,r[o]]]),t[3]||(t[3]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]))),128))])])):p("",!0),e("div",Z,[e("button",{type:"submit",disabled:!w.value,class:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-6 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transform hover:scale-[1.02] disabled:hover:scale-100"},t[5]||(t[5]=[e("span",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Save Feeding Schedule")],-1)]),8,ee)])],32)])]),c.value?(i(),n("div",te,t[7]||(t[7]=[e("div",{class:"bg-white rounded-2xl shadow-2xl border border-green-200 p-6 max-w-sm"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"bg-green-100 p-2 rounded-xl"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),e("div",null,[e("h4",{class:"font-bold text-green-800"},"Success!"),e("p",{class:"text-green-600 text-sm"},"Feeding schedule saved successfully!")])])],-1)]))):p("",!0),t[8]||(t[8]=e("div",{class:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200"},[e("div",{class:"flex items-start space-x-3"},[e("div",{class:"bg-blue-100 p-2 rounded-xl"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("div",null,[e("h4",{class:"font-bold text-blue-800 mb-2"},"Feeding Schedule Tips"),e("ul",{class:"text-blue-700 space-y-1 text-sm"},[e("li",null,"• Maintain consistent feeding times for better pig health"),e("li",null,"• Young pigs typically need 3-4 feedings per day"),e("li",null,"• Adult pigs usually do well with 2-3 feedings per day"),e("li",null,"• Space feedings evenly throughout the day")])])])],-1))])])]),_:1})]))}};export{ie as default};
