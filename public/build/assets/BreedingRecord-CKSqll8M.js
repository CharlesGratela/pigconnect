import{r as g,y as F,c as E,h as R,e as d,i as z,w as _,o as a,b as e,t as s,d as B,l as N,m as p,s as C,F as u,f as x,v as j,g as D,n as M}from"./app-DNIPENlQ.js";import{_ as H}from"./AuthenticatedLayout-BOqvg2qA.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"py-8"},$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},P={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300"},q={class:"flex items-center justify-between"},K={class:"text-3xl font-bold text-gray-800"},X={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300"},J={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold text-gray-800"},G={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300"},Q={class:"flex items-center justify-between"},W={class:"text-3xl font-bold text-gray-800"},Z={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300"},ee={class:"flex items-center justify-between"},te={class:"text-3xl font-bold text-gray-800"},oe={key:0,class:"fixed inset-0 flex items-center justify-center z-50 p-4"},re={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 max-h-[90vh] overflow-y-auto"},se={class:"p-6"},ne={class:"relative"},de=["value"],ae={class:"relative"},le=["value"],ie={class:"relative"},ce={class:"relative"},ge={class:"hidden md:block bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100"},pe={class:"overflow-x-auto"},ue={class:"min-w-full divide-y divide-gray-200"},xe={class:"bg-white divide-y divide-gray-100"},me={class:"px-6 py-4 whitespace-nowrap text-center"},fe={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-pink-100 text-pink-800"},we={class:"px-6 py-4 whitespace-nowrap text-center"},be={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"},ve={class:"px-6 py-4 whitespace-nowrap text-center text-gray-600"},he={class:"px-6 py-4 whitespace-nowrap text-center text-gray-600"},ye={class:"px-6 py-4 whitespace-nowrap text-center"},ke={class:"px-6 py-4 whitespace-nowrap text-center"},_e=["onClick"],Be={class:"block md:hidden space-y-6"},Ce={class:"bg-gradient-to-r from-emerald-50 to-emerald-100 p-4 border-b border-gray-200"},je={class:"flex items-center justify-between"},De={class:"p-4 space-y-3"},Me={class:"grid grid-cols-2 gap-4"},Se={class:"text-pink-700 font-semibold"},Ve={class:"text-blue-700 font-semibold"},Ae={class:"grid grid-cols-1 gap-3"},Ie={class:"text-gray-800 font-semibold"},Te={class:"text-gray-800 font-semibold"},Fe={class:"pt-3 border-t border-gray-200"},Ee=["onClick"],Re={key:1,class:"text-center py-12"},ze={__name:"BreedingRecord",setup(Ne){const l=g([]),m=g(!1),n=F({sow_id:"",boar_id:"",date_of_breeding:"",expected_farrowing_date:""}),f=g([]),w=g([]),S=E(()=>{const r=new Date,t=new Date(r);return t.setMonth(r.getMonth()+1),l.value.filter(o=>{const i=new Date(o.expected_farrowing_date);return i>=r&&i<=t}).length}),c=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",b=r=>{const t=new Date,o=new Date(r),i=Math.ceil((o-t)/(1e3*60*60*24));return i<0?"Overdue":i===0?"Due Today":i<=7?"Due Soon":i<=30?"This Month":"Upcoming"},h=r=>{const t=b(r);return{Overdue:"bg-red-100 text-red-800","Due Today":"bg-orange-100 text-orange-800","Due Soon":"bg-yellow-100 text-yellow-800","This Month":"bg-blue-100 text-blue-800",Upcoming:"bg-green-100 text-green-800"}[t]||"bg-gray-100 text-gray-800"},V=async()=>{try{const r=await fetch("/api/breeding-records",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!r.ok)throw new Error("Network response was not ok");const t=await r.json();l.value=t}catch(r){console.error("Error fetching breeding records:",r)}},A=async()=>{try{const r=await fetch("/api/pigs",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!r.ok)throw new Error("Network response was not ok");const t=await r.json();f.value=t.filter(o=>o.gender==="male"),w.value=t.filter(o=>o.gender==="female")}catch(r){console.error("Error fetching pigs:",r)}},I=()=>{const r=new Date(n.date_of_breeding),t=114,o=new Date(r);o.setDate(r.getDate()+t),n.expected_farrowing_date=o.toISOString().split("T")[0]},T=async()=>{try{const r=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t=await fetch("/api/breeding-records",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(n)});if(!t.ok)throw new Error("Network response was not ok");const o=await t.json();l.value.push(o),v()}catch(r){console.error("Error adding breeding record:",r)}},y=async r=>{try{const t=document.querySelector('meta[name="csrf-token"]').getAttribute("content");await fetch(`/api/breeding-records/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"}),l.value=l.value.filter(o=>o.id!==r)}catch(t){console.error("Error deleting breeding record:",t)}},v=()=>{n.sow_id="",n.boar_id="",n.date_of_breeding="",n.expected_farrowing_date="",m.value=!1},k=()=>{m.value=!0,A()};return R(()=>{V()}),(r,t)=>(a(),d("div",null,[z(H,null,{header:_(()=>t[4]||(t[4]=[e("div",{class:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white p-6 rounded-2xl shadow-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"bg-white/20 p-3 rounded-xl backdrop-blur-sm"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",null,[e("h2",{class:"text-3xl font-bold"},"Breeding Records"),e("p",{class:"text-emerald-100 mt-1"},"Track and manage pig breeding activities")])])],-1)])),default:_(()=>[e("main",U,[e("div",$,[e("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 space-y-4 md:space-y-0"},[t[6]||(t[6]=e("div",null,[e("h3",{class:"text-2xl font-bold text-gray-800"},"Breeding Management"),e("p",{class:"text-gray-600 mt-1"},"Monitor breeding records and track expected farrowing dates")],-1)),e("button",{onClick:k,class:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 flex items-center space-x-2"},t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Add Breeding Record",-1)]))]),e("div",L,[e("div",P,[e("div",q,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Records",-1)),e("p",K,s(l.value.length),1)]),t[8]||(t[8]=e("div",{class:"bg-emerald-100 p-3 rounded-xl"},[e("svg",{class:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",X,[e("div",J,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Sows",-1)),e("p",Y,s(w.value.length),1)]),t[10]||(t[10]=e("div",{class:"bg-pink-100 p-3 rounded-xl"},[e("span",{class:"text-2xl"},"ðŸ·")],-1))])]),e("div",G,[e("div",Q,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Boars",-1)),e("p",W,s(f.value.length),1)]),t[12]||(t[12]=e("div",{class:"bg-blue-100 p-3 rounded-xl"},[e("span",{class:"text-2xl"},"ðŸ½")],-1))])]),e("div",Z,[e("div",ee,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Upcoming",-1)),e("p",te,s(S.value),1)]),t[14]||(t[14]=e("div",{class:"bg-yellow-100 p-3 rounded-xl"},[e("svg",{class:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))])])]),m.value?(a(),d("div",oe,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:v}),e("div",re,[e("div",{class:"bg-gradient-to-r from-emerald-50 to-emerald-100 p-6 border-b border-gray-200"},[e("div",{class:"flex items-center justify-between"},[t[16]||(t[16]=e("h3",{class:"text-xl font-bold text-emerald-800 flex items-center gap-3"},[e("div",{class:"bg-emerald-600 p-2 rounded-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])]),B(" Add Breeding Record ")],-1)),e("button",{onClick:v,class:"text-gray-400 hover:text-gray-600 transition-colors"},t[15]||(t[15]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",se,[e("form",{onSubmit:N(T,["prevent"]),class:"space-y-6"},[e("div",null,[t[19]||(t[19]=e("label",{for:"sowId",class:"block text-sm font-bold text-gray-700 mb-2"},"Sow (Female Pig)",-1)),e("div",ne,[p(e("select",{id:"sowId","onUpdate:modelValue":t[0]||(t[0]=o=>n.sow_id=o),class:"w-full px-4 py-3 bg-white border-2 border-gray-200 text-gray-800 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 appearance-none",required:""},[t[17]||(t[17]=e("option",{value:""},"Select a sow...",-1)),(a(!0),d(u,null,x(w.value,o=>(a(),d("option",{key:o.pigId,value:o.pigId},s(o.pigId),9,de))),128))],512),[[C,n.sow_id]]),t[18]||(t[18]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",null,[t[22]||(t[22]=e("label",{for:"boarId",class:"block text-sm font-bold text-gray-700 mb-2"},"Boar (Male Pig)",-1)),e("div",ae,[p(e("select",{id:"boarId","onUpdate:modelValue":t[1]||(t[1]=o=>n.boar_id=o),class:"w-full px-4 py-3 bg-white border-2 border-gray-200 text-gray-800 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 appearance-none",required:""},[t[20]||(t[20]=e("option",{value:""},"Select a boar...",-1)),(a(!0),d(u,null,x(f.value,o=>(a(),d("option",{key:o.pigId,value:o.pigId},s(o.pigId),9,le))),128))],512),[[C,n.boar_id]]),t[21]||(t[21]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",null,[t[23]||(t[23]=e("label",{for:"dateOfBreeding",class:"block text-sm font-bold text-gray-700 mb-2"},"Date of Breeding",-1)),e("div",ie,[p(e("input",{type:"date",id:"dateOfBreeding","onUpdate:modelValue":t[2]||(t[2]=o=>n.date_of_breeding=o),onChange:I,class:"w-full px-4 py-3 bg-white border-2 border-gray-200 text-gray-800 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",required:""},null,544),[[j,n.date_of_breeding]])])]),e("div",null,[t[25]||(t[25]=e("label",{for:"expectedFarrowingDate",class:"block text-sm font-bold text-gray-700 mb-2"},"Expected Farrowing Date",-1)),e("div",ce,[p(e("input",{type:"date",id:"expectedFarrowingDate","onUpdate:modelValue":t[3]||(t[3]=o=>n.expected_farrowing_date=o),class:"w-full px-4 py-3 bg-emerald-50 border-2 border-emerald-200 text-emerald-800 rounded-xl cursor-not-allowed",readonly:""},null,512),[[j,n.expected_farrowing_date]]),t[24]||(t[24]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-gray-500 mt-1"},"Automatically calculated (114 days from breeding date)",-1))]),t[27]||(t[27]=e("button",{type:"submit",class:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]"},[e("span",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Add Breeding Record")])],-1))],32)])])])):D("",!0),e("div",ge,[t[30]||(t[30]=e("div",{class:"bg-gradient-to-r from-emerald-50 to-emerald-100 p-6 border-b border-gray-200"},[e("h3",{class:"text-xl font-bold text-emerald-800 flex items-center gap-3"},[e("div",{class:"bg-emerald-600 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),B(" Breeding Records ")]),e("p",{class:"text-emerald-600 mt-1"},"Comprehensive breeding history and tracking")],-1)),e("div",pe,[e("table",ue,[t[29]||(t[29]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Sow ID"),e("th",{scope:"col",class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Boar ID"),e("th",{scope:"col",class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Date of Breeding"),e("th",{scope:"col",class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Expected Farrowing"),e("th",{scope:"col",class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Status"),e("th",{scope:"col",class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",xe,[(a(!0),d(u,null,x(l.value,o=>(a(),d("tr",{key:o.id,class:"hover:bg-emerald-50 transition-all duration-200 group"},[e("td",me,[e("span",fe,s(o.sow_id),1)]),e("td",we,[e("span",be,s(o.boar_id),1)]),e("td",ve,s(c(o.date_of_breeding)),1),e("td",he,s(c(o.expected_farrowing_date)),1),e("td",ye,[e("span",{class:M([h(o.expected_farrowing_date),"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium"])},s(b(o.expected_farrowing_date)),3)]),e("td",ke,[e("button",{onClick:i=>y(o.id),class:"text-red-600 hover:text-red-800 transition-colors p-2 rounded-lg hover:bg-red-50"},t[28]||(t[28]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,_e)])]))),128))])])])]),e("div",Be,[(a(!0),d(u,null,x(l.value,o=>(a(),d("div",{key:o.id,class:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-300"},[e("div",Ce,[e("div",je,[t[31]||(t[31]=e("h3",{class:"text-lg font-bold text-emerald-800"},"Breeding Record",-1)),e("span",{class:M([h(o.expected_farrowing_date),"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"])},s(b(o.expected_farrowing_date)),3)])]),e("div",De,[e("div",Me,[e("div",null,[t[32]||(t[32]=e("span",{class:"text-sm font-medium text-gray-600"},"Sow ID",-1)),e("p",Se,s(o.sow_id),1)]),e("div",null,[t[33]||(t[33]=e("span",{class:"text-sm font-medium text-gray-600"},"Boar ID",-1)),e("p",Ve,s(o.boar_id),1)])]),e("div",Ae,[e("div",null,[t[34]||(t[34]=e("span",{class:"text-sm font-medium text-gray-600"},"Breeding Date",-1)),e("p",Ie,s(c(o.date_of_breeding)),1)]),e("div",null,[t[35]||(t[35]=e("span",{class:"text-sm font-medium text-gray-600"},"Expected Farrowing",-1)),e("p",Te,s(c(o.expected_farrowing_date)),1)])]),e("div",Fe,[e("button",{onClick:i=>y(o.id),class:"w-full bg-red-50 text-red-600 px-4 py-2 rounded-lg font-medium hover:bg-red-100 transition-colors flex items-center justify-center space-x-2"},t[36]||(t[36]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("span",null,"Delete Record",-1)]),8,Ee)])])]))),128))]),l.value.length===0?(a(),d("div",Re,[e("div",{class:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100"},[t[37]||(t[37]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[38]||(t[38]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No breeding records",-1)),t[39]||(t[39]=e("p",{class:"text-gray-600 mb-4"},"Start tracking your pig breeding by adding your first breeding record.",-1)),e("button",{onClick:k,class:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105"}," Add Your First Record ")])])):D("",!0)])])]),_:1})]))}},$e=O(ze,[["__scopeId","data-v-ec668003"]]);export{$e as default};
