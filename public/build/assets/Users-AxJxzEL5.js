import{Q as p,r as m,c as x,w as n,o as a,a as e,b as l,d as g,t as i,F as u}from"./app-BBvVVKdH.js";import{_}from"./AuthenticatedLayout-DUguJAC5.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"py-12"},f={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},w={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},v={class:"p-6 sm:px-20 bg-white border-b border-gray-200"},b={class:"mt-6 text-gray-500"},k={class:"min-w-full divide-y divide-gray-200"},E={class:"bg-white divide-y divide-gray-200"},U={class:"px-6 py-4 whitespace-nowrap"},B={class:"px-6 py-4 whitespace-nowrap"},C={class:"px-6 py-4 whitespace-nowrap"},F={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},N=["onClick"],S={__name:"Users",setup($){const{props:d}=p(),r=m(d.users),c=async o=>{if(confirm("Are you sure you want to delete this user?"))try{if(!(await fetch(`/admin/users/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Network response was not ok");r.value=r.value.filter(s=>s.id!==o),alert("User deleted successfully.")}catch(t){console.error("Error deleting user:",t),alert("Failed to delete user.")}};return(o,t)=>(a(),x(_,null,{header:n(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"User Management",-1)])),default:n(()=>[e("div",y,[e("div",f,[e("div",w,[e("div",v,[t[2]||(t[2]=e("div",{class:"mt-8 text-2xl"}," Manage Users ",-1)),e("div",b,[e("table",k,[t[1]||(t[1]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),e("th",{class:"px-6 py-3 bg-gray-50"})])],-1)),e("tbody",E,[(a(!0),l(u,null,g(r.value,s=>(a(),l("tr",{key:s.id},[e("td",U,i(s.name),1),e("td",B,i(s.email),1),e("td",C,i(s.role),1),e("td",F,[e("button",{onClick:A=>c(s.id),class:"text-red-600 hover:text-red-900"},"Delete",8,N)])]))),128))])])])])])])])]),_:1}))}},M=h(S,[["__scopeId","data-v-fc600cf4"]]);export{M as default};
