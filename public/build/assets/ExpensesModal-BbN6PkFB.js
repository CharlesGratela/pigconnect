import{r as o,c as g,b as e,a as k,w as v,A as w,o as c,f as h,l as a,s as m,v as C,g as T}from"./app-DIld19k6.js";const N={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},E={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},M={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},S={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},V={class:"sm:flex sm:items-start"},_={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},j={class:"mt-2"},D={class:"mb-4"},A={class:"mb-4"},O={class:"mb-4"},U={class:"mb-4"},P={__name:"ExpensesModal",emits:["expense-added"],setup(B,{emit:p}){const l=o(!1),n=o(""),d=o(""),i=o(""),u=o(""),f=p,x=()=>{l.value=!0},b=()=>{l.value=!1},y=async()=>{try{const r=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t=await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r},body:JSON.stringify({name:n.value,cost:d.value,date_of_purchase:i.value,type:u.value})});if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();console.log("Expense submitted successfully:",s),b(),f("expense-added")}catch(r){console.error("Error submitting expense:",r)}};return(r,t)=>(c(),g("div",null,[e("button",{onClick:x,class:"bg-blue-500 text-white p-2.5 rounded-lg focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:focus:ring-blue-800"},"Add Expense"),k(w,{name:"modal"},{default:v(()=>[l.value?(c(),g("div",N,[e("div",E,[t[11]||(t[11]=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[12]||(t[12]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",M,[e("div",S,[e("div",V,[e("div",_,[t[10]||(t[10]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},"Add Expense",-1)),e("div",j,[e("form",{onSubmit:h(y,["prevent"])},[e("div",D,[t[4]||(t[4]=e("label",{for:"expenseName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Name",-1)),a(e("input",{type:"text",id:"expenseName","onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[m,n.value]])]),e("div",A,[t[5]||(t[5]=e("label",{for:"expenseCost",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Cost",-1)),a(e("input",{type:"number",id:"expenseCost","onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[m,d.value]])]),e("div",O,[t[6]||(t[6]=e("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Date of Purchase",-1)),a(e("input",{type:"date",id:"expenseDate","onUpdate:modelValue":t[2]||(t[2]=s=>i.value=s),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[m,i.value]])]),e("div",U,[t[8]||(t[8]=e("label",{for:"expenseType",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Type",-1)),a(e("select",{id:"expenseType","onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),class:"mt-1 block w-full p-2.5 bg-gray-100 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"},t[7]||(t[7]=[e("option",{value:"medication"},"Medication",-1),e("option",{value:"food"},"Food",-1),e("option",{value:"transportation"},"Transportation",-1)]),512),[[C,u.value]])]),t[9]||(t[9]=e("div",{class:"mt-5 sm:mt-6"},[e("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm"},"Submit")],-1))],32)])])])]),e("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[e("button",{onClick:b,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Cancel")])])])])):T("",!0)]),_:1})]))}};export{P as default};
